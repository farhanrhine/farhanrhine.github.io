<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Farhan | AI/ML Engineer</title>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Three.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    
    <!-- Framer Motion -->
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    
    <!-- Lenis (Smooth Scroll) -->
    <script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@1.0.29/bundled/lenis.min.js"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        serif: ['Playfair Display', 'serif'],
                        mono: ['Fira Code', 'monospace'],
                    },
                    colors: {
                        coffee: {
                            50: '#FDFCFB',
                            100: '#F5F2F0', 
                            200: '#EBE5E0',
                            300: '#D6CFC7',
                            400: '#9C9289',
                            500: '#756A63',
                            800: '#4A3E38',
                            900: '#2A2420',
                        },
                        accent: {
                            DEFAULT: '#C17C5E', // Terracotta
                            dark: '#A06348'
                        }
                    },
                    animation: {
                        'spin-slow': 'spin 12s linear infinite',
                    }
                }
            }
        }
    </script>
    <style>
        body { margin: 0; background-color: #FDFCFB; color: #2A2420; overflow-x: hidden; cursor: none; }
        canvas { position: fixed; top: 0; left: 0; z-index: -1; }
        
        /* Grain Overlay */
        .grain {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none;
            z-index: 50;
            opacity: 0.35;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
            mix-blend-mode: overlay;
        }

        /* Smooth Scroll styling */
        html.lenis { height: auto; }
        .lenis.lenis-smooth { scroll-behavior: auto; }
        .lenis.lenis-smooth [data-lenis-prevent] { overscroll-behavior: contain; }
        .lenis.lenis-stopped { overflow: hidden; }
        .lenis.lenis-scrolling iframe { pointer-events: none; }

        /* Custom Selection */
        ::selection { background: #EBE5E0; color: #2A2420; }
        
        /* Utility for Text Reveal */
        .clip-text-parent { overflow: hidden; display: inline-block; vertical-align: bottom; }

        /* Mobile Cursor Reset */
        @media (max-width: 768px) {
            body { cursor: auto; }
            .custom-cursor { display: none !important; }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef, useLayoutEffect } = React;
        // Safely access Motion, falling back to window.Motion if available
        const { motion, useScroll, useTransform, useSpring, AnimatePresence } = window.Motion;

        // --- 1. Custom Cursor ---
        const CustomCursor = () => {
            const [mousePosition, setMousePosition] = useState({ x: 0, y: 0 });
            const [isHovering, setIsHovering] = useState(false);

            useEffect(() => {
                const updateMousePosition = (e) => {
                    setMousePosition({ x: e.clientX, y: e.clientY });
                };

                const handleMouseOver = (e) => {
                    if (e.target.tagName === 'A' || e.target.tagName === 'BUTTON' || e.target.closest('a') || e.target.closest('button')) {
                        setIsHovering(true);
                    } else {
                        setIsHovering(false);
                    }
                };

                window.addEventListener('mousemove', updateMousePosition);
                window.addEventListener('mouseover', handleMouseOver);

                return () => {
                    window.removeEventListener('mousemove', updateMousePosition);
                    window.removeEventListener('mouseover', handleMouseOver);
                };
            }, []);

            return (
                <motion.div
                    className="custom-cursor fixed top-0 left-0 w-4 h-4 rounded-full bg-accent mix-blend-multiply pointer-events-none z-[9999]"
                    animate={{
                        x: mousePosition.x - 8,
                        y: mousePosition.y - 8,
                        scale: isHovering ? 4 : 1,
                        opacity: isHovering ? 0.5 : 1
                    }}
                    transition={{
                        type: "spring",
                        stiffness: 150,
                        damping: 15,
                        mass: 0.1
                    }}
                />
            );
        };

        // --- 2. Smooth Scroll Setup (Lenis) ---
        const SmoothScroll = ({ children }) => {
            useEffect(() => {
                const lenis = new window.Lenis({
                    duration: 1.2,
                    easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),
                    direction: 'vertical',
                    gestureDirection: 'vertical',
                    smooth: true,
                    smoothTouch: false,
                });

                function raf(time) {
                    lenis.raf(time);
                    requestAnimationFrame(raf);
                }
                requestAnimationFrame(raf);

                return () => lenis.destroy();
            }, []);
            return <div>{children}</div>;
        };

        // --- 3. Advanced Text Reveal Component ---
        const TextReveal = ({ children, className, delay = 0 }) => {
            const ref = useRef(null);
            
            return (
                <motion.div
                    ref={ref}
                    initial="hidden"
                    whileInView="visible"
                    viewport={{ once: true, margin: "-10%" }}
                    className={className}
                >
                    {children.split(" ").map((word, i) => (
                        <span key={i} className="clip-text-parent mr-[0.25em]">
                            <motion.span
                                className="inline-block"
                                variants={{
                                    hidden: { y: "100%", opacity: 0, rotate: 3 },
                                    visible: { 
                                        y: "0%", 
                                        opacity: 1, 
                                        rotate: 0,
                                        transition: { 
                                            duration: 0.9, 
                                            ease: [0.16, 1, 0.3, 1], 
                                            delay: delay + (i * 0.05) 
                                        } 
                                    }
                                }}
                            >
                                {word}
                            </motion.span>
                        </span>
                    ))}
                </motion.div>
            );
        };

        // --- 4. Dust Motes Background (Subtle Organic 3D) ---
        const DustMotes = () => {
            const mountRef = useRef(null);

            useEffect(() => {
                if (!mountRef.current) return;

                const scene = new THREE.Scene();
                // Match the coffee-50 background color
                scene.fog = new THREE.FogExp2(0xFDFCFB, 0.002);
                
                const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
                camera.position.z = 20;

                const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
                renderer.setSize(window.innerWidth, window.innerHeight);
                renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
                mountRef.current.appendChild(renderer.domElement);

                // Create particles
                const particlesGeometry = new THREE.BufferGeometry();
                const count = 400;
                const posArray = new Float32Array(count * 3);

                for(let i = 0; i < count * 3; i++) {
                    posArray[i] = (Math.random() - 0.5) * 45; 
                }

                particlesGeometry.setAttribute('position', new THREE.BufferAttribute(posArray, 3));

                // Material: Soft circles
                const material = new THREE.PointsMaterial({
                    size: 0.12,
                    color: 0xA06348, // Accent dark
                    transparent: true,
                    opacity: 0.6,
                });

                const particlesMesh = new THREE.Points(particlesGeometry, material);
                scene.add(particlesMesh);

                let requestID;
                const animate = () => {
                    requestID = requestAnimationFrame(animate);
                    particlesMesh.rotation.y += 0.0003;
                    particlesMesh.rotation.x += 0.0001;
                    
                    // Gentle float effect
                    particlesMesh.position.y = Math.sin(Date.now() * 0.0002) * 0.5;

                    renderer.render(scene, camera);
                };

                animate();

                const handleResize = () => {
                    camera.aspect = window.innerWidth / window.innerHeight;
                    camera.updateProjectionMatrix();
                    renderer.setSize(window.innerWidth, window.innerHeight);
                };

                window.addEventListener('resize', handleResize);
                return () => {
                    window.removeEventListener('resize', handleResize);
                    cancelAnimationFrame(requestID);
                    if (mountRef.current) {
                        mountRef.current.removeChild(renderer.domElement);
                    }
                    particlesGeometry.dispose();
                    material.dispose();
                };
            }, []);

            return <div ref={mountRef} className="fixed inset-0 z-0 pointer-events-none" />;
        };

        // --- 5. Reusable UI Components ---
        const Icon = ({ name, className }) => {
            useEffect(() => { 
                if (window.lucide) {
                    window.lucide.createIcons();
                }
            }, [name]);
            return <i data-lucide={name} className={className}></i>;
        };

        const MagneticButton = ({ children, href }) => {
            return (
                <motion.a 
                    href={href}
                    whileHover={{ scale: 1.05 }}
                    whileTap={{ scale: 0.95 }}
                    className="inline-flex items-center justify-center px-8 py-4 rounded-full border border-coffee-200 bg-white/50 backdrop-blur-sm text-coffee-900 font-medium transition-colors hover:bg-coffee-900 hover:text-white hover:border-transparent cursor-none"
                >
                    {children}
                </motion.a>
            );
        };

        // --- 6. Sections ---

        const Hero = () => {
            const { scrollY } = useScroll();
            const y1 = useTransform(scrollY, [0, 500], [0, 150]); 
            const y2 = useTransform(scrollY, [0, 500], [0, -100]); 

            return (
                <section className="min-h-screen flex flex-col justify-center relative px-6 lg:px-24 overflow-hidden">
                    <motion.div style={{ y: y1 }} className="max-w-5xl z-10 mt-20">
                        <div className="flex items-center gap-4 mb-8">
                            <motion.div 
                                initial={{ width: 0 }} 
                                animate={{ width: 60 }} 
                                transition={{ duration: 1, delay: 0.5 }}
                                className="h-[1px] bg-accent" 
                            />
                            <TextReveal className="font-mono text-sm tracking-widest uppercase text-accent" delay={0.6}>
                                AI Engineer & System Architect
                            </TextReveal>
                        </div>
                        
                        <h1 className="text-6xl md:text-8xl lg:text-9xl font-serif leading-[0.9] text-coffee-900 mb-12">
                            <TextReveal delay={0.2}>Crafting</TextReveal>
                            <br />
                            <span className="italic font-light text-coffee-800">
                                <TextReveal delay={0.4}>Intelligent</TextReveal>
                            </span>
                            <br />
                            <TextReveal delay={0.6}>Reality.</TextReveal>
                        </h1>

                        <motion.p 
                            initial={{ opacity: 0, y: 20 }}
                            animate={{ opacity: 1, y: 0 }}
                            transition={{ delay: 1.2, duration: 0.8 }}
                            className="max-w-xl text-xl text-coffee-800/80 font-light leading-relaxed mb-12"
                        >
                            I build reasoning-based agents and scalable ML systems that bridge the gap between theoretical data and human experience.
                        </motion.p>

                        <motion.div 
                            initial={{ opacity: 0 }}
                            animate={{ opacity: 1 }}
                            transition={{ delay: 1.4 }}
                            className="flex gap-4"
                        >
                            <MagneticButton href="#projects">View Selected Works</MagneticButton>
                        </motion.div>
                    </motion.div>

                    {/* Floating Decorative Elements */}
                    <motion.div style={{ y: y2 }} className="absolute right-0 top-1/3 w-1/3 hidden lg:block opacity-20 pointer-events-none">
                        <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                            <path fill="#C17C5E" d="M44.7,-76.4C58.9,-69.2,71.8,-59.1,81.6,-46.6C91.4,-34.1,98.1,-19.2,95.8,-5.3C93.5,8.6,82.2,21.5,70.6,32.2C59,42.9,47.1,51.4,34.9,58.3C22.7,65.2,10.2,70.5,-1.2,72.6C-12.6,74.7,-24.1,73.6,-34.7,67.3C-45.3,61,-55,49.5,-63.3,37.2C-71.6,24.9,-78.5,11.8,-79.1,-1.6C-79.7,-15,-74,-28.7,-64.3,-39.8C-54.6,-50.9,-40.9,-59.4,-27.4,-67C-13.9,-74.6,0.6,-79.6,13.6,-78.4C26.6,-77.2,44.7,-76.4,44.7,-76.4Z" transform="translate(100 100)" />
                        </svg>
                    </motion.div>
                </section>
            );
        };

        const About = () => (
            <section id="about" className="py-32 px-6 lg:px-24">
                <div className="grid lg:grid-cols-12 gap-12 items-start">
                    <div className="lg:col-span-4 sticky top-32">
                        <div className="w-12 h-[1px] bg-coffee-900 mb-6"></div>
                        <h2 className="text-sm font-mono tracking-widest uppercase mb-2 text-coffee-500">About Me</h2>
                        <h3 className="text-3xl font-serif text-coffee-900 italic">The Architect</h3>
                    </div>
                    <div className="lg:col-span-8 space-y-16">
                        <div className="text-3xl md:text-4xl leading-tight font-serif text-coffee-900">
                            <TextReveal>The goal of AI is not to replace</TextReveal>
                            <TextReveal>human intelligence, but to</TextReveal> 
                            <span className="italic text-accent"><TextReveal>amplify it.</TextReveal></span>
                        </div>
                        
                        <div className="grid md:grid-cols-2 gap-12 text-lg font-light text-coffee-800 leading-relaxed">
                            <motion.div 
                                initial={{ opacity: 0, y: 20 }}
                                whileInView={{ opacity: 1, y: 0 }}
                                viewport={{ once: true }}
                                transition={{ duration: 0.8 }}
                            >
                                <p className="mb-6">
                                    I specialize in MLOps and Generative AI. My work is defined by a rigorous focus on accuracy and production-grade engineering. 
                                </p>
                                <p>
                                    Currently, I'm building reasoning-based AI assistants using <span className="font-medium text-coffee-900 border-b border-accent">LangGraph</span> and <span className="font-medium text-coffee-900 border-b border-accent">FastAPI</span>.
                                </p>
                            </motion.div>
                            
                            <motion.div 
                                initial={{ opacity: 0, y: 20 }}
                                whileInView={{ opacity: 1, y: 0 }}
                                viewport={{ once: true }}
                                transition={{ duration: 0.8, delay: 0.2 }}
                                className="bg-coffee-100/50 p-8 rounded-lg"
                            >
                                <ul className="space-y-4 font-mono text-sm">
                                    <li className="flex justify-between border-b border-coffee-200 pb-2">
                                        <span>Current Focus</span>
                                        <span className="text-accent">Agentic Systems</span>
                                    </li>
                                    <li className="flex justify-between border-b border-coffee-200 pb-2">
                                        <span>Location</span>
                                        <span className="text-coffee-600">Earth (Remote)</span>
                                    </li>
                                    <li className="flex justify-between border-b border-coffee-200 pb-2">
                                        <span>Experience</span>
                                        <span className="text-coffee-600">Early Career</span>
                                    </li>
                                </ul>
                            </motion.div>
                        </div>
                    </div>
                </div>
            </section>
        );

        const ProjectItem = ({ title, cat, year, link }) => {
            return (
                <motion.a 
                    href={link}
                    target="_blank"
                    initial={{ opacity: 0, y: 20 }}
                    whileInView={{ opacity: 1, y: 0 }}
                    viewport={{ once: true }}
                    className="group block border-t border-coffee-200 py-12 hover:bg-white/50 transition-colors cursor-none"
                >
                    <div className="grid md:grid-cols-12 gap-4 items-baseline">
                        <div className="md:col-span-2 font-mono text-xs text-coffee-400">{year}</div>
                        <div className="md:col-span-6">
                            <h3 className="text-4xl font-serif text-coffee-900 group-hover:italic group-hover:translate-x-4 transition-all duration-500">{title}</h3>
                        </div>
                        <div className="md:col-span-3 font-mono text-xs uppercase tracking-wide text-coffee-500 text-right md:text-left">{cat}</div>
                        <div className="md:col-span-1 text-right opacity-0 group-hover:opacity-100 transition-opacity">
                            <Icon name="arrow-up-right" className="inline w-6 h-6 text-accent" />
                        </div>
                    </div>
                </motion.a>
            );
        }

        const Projects = () => {
            const projects = [
                {
                    title: "AI Anime Recommender",
                    cat: "RAG • Vector DB • LLM",
                    year: "2024",
                    link: "https://github.com/farhanrhine/ai-anime-recommender-rag"
                },
                {
                    title: "Paytm Local MCP",
                    cat: "Protocol • Server • Python",
                    year: "2024",
                    link: "https://github.com/farhanrhine/paytm-local-mcp-server"
                },
                {
                    title: "Premium Prediction",
                    cat: "FastAPI • Docker • AWS",
                    year: "2023",
                    link: "https://github.com/farhanrhine/insurance-premium-prediction-fastapi-docker-aws"
                },
                {
                    title: "Flight Satisfaction",
                    cat: "MLOps • Airflow • DVC",
                    year: "2023",
                    link: "https://github.com/farhanrhine/flight-satisfaction-mlops"
                }
            ];

            return (
                <section id="projects" className="py-32 px-6 lg:px-24 bg-coffee-100/30">
                    <div className="mb-24">
                        <div className="w-12 h-[1px] bg-coffee-900 mb-6"></div>
                        <h2 className="text-sm font-mono tracking-widest uppercase mb-2 text-coffee-500">Selected Work</h2>
                    </div>
                    
                    <div className="flex flex-col">
                        {projects.map((p, i) => (
                            <ProjectItem key={i} {...p} />
                        ))}
                    </div>
                </section>
            );
        };

        const Footer = () => (
            <section id="contact" className="py-32 px-6 lg:px-24 bg-coffee-900 text-coffee-50 relative overflow-hidden">
                <div className="max-w-5xl mx-auto text-center relative z-10">
                    <motion.div
                        initial={{ opacity: 0, scale: 0.9 }}
                        whileInView={{ opacity: 1, scale: 1 }}
                        transition={{ duration: 0.8 }}
                    >
                        <h2 className="text-6xl md:text-8xl font-serif mb-12">Let's Talk.</h2>
                        <div className="flex flex-col md:flex-row justify-center gap-8 mb-20">
                            <a href="mailto:mohammadfarhanalam09@gmail.com" className="text-xl hover:text-accent transition-colors border-b border-transparent hover:border-accent cursor-none">Email</a>
                            <a href="https://linkedin.com/in/farhanrhine" className="text-xl hover:text-accent transition-colors border-b border-transparent hover:border-accent cursor-none">LinkedIn</a>
                            <a href="https://github.com/farhanrhine" className="text-xl hover:text-accent transition-colors border-b border-transparent hover:border-accent cursor-none">GitHub</a>
                        </div>
                        <p className="font-mono text-xs opacity-50 uppercase tracking-widest">
                            © {new Date().getFullYear()} Farhan Alam • AI Engineer
                        </p>
                    </motion.div>
                </div>
                
                {/* Background Texture for Footer */}
                <div className="absolute inset-0 opacity-10 pointer-events-none">
                    <svg width="100%" height="100%">
                        <filter id="noise">
                            <feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="4" stitchTiles="stitch" />
                        </filter>
                        <rect width="100%" height="100%" filter="url(#noise)" />
                    </svg>
                </div>
            </section>
        );

        const App = () => {
            return (
                <SmoothScroll>
                    <CustomCursor />
                    <div className="grain"></div>
                    <DustMotes />
                    
                    <nav className="fixed top-0 w-full z-40 px-6 lg:px-12 py-8 flex justify-between items-center mix-blend-difference text-white">
                        <div className="font-bold text-xl tracking-tighter font-serif">
                            farhan.
                        </div>
                        <div className="hidden md:flex gap-8 text-sm font-mono tracking-widest uppercase opacity-80">
                            <a href="#about" className="hover:line-through transition-all cursor-none">About</a>
                            <a href="#projects" className="hover:line-through transition-all cursor-none">Work</a>
                            <a href="#contact" className="hover:line-through transition-all cursor-none">Contact</a>
                        </div>
                    </nav>

                    <Hero />
                    <About />
                    <Projects />
                    <Footer />
                </SmoothScroll>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
